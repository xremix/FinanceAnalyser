<!-- Toolbar -->
<div class="toolbar" role="banner">
  <!-- <img width="40" alt="Angular Logo"
    src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==" /> -->

  <!-- License: CC Attribution. Made by chikin icons: https://www.figma.com/@chikin_icons -->
  <svg width="80px" height="80px" viewBox="-20 0 190 190" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd"
      d="M79.43 86C76.6635 79.0001 72.5528 72.6098 67.3301 67.19L91 65.58C85.7145 71.4716 81.7673 78.4379 79.43 86ZM76.77 98.11L82.6501 97.3C82.6501 84.21 93.8901 64.5 105.65 60.54C105.65 64.7 105.44 87.29 105.44 99.69C105.44 133.17 87.84 145.92 47.5 146.36C52.73 141.28 60.35 133.1 60.35 122.11C60.35 109.43 56.6701 100.45 44.7401 99.58L44.3 60.63H46.76C63.33 64.67 76.77 83.93 76.77 98.11ZM96.0801 81.56C89.16 81.56 88.83 92.09 96.2 92.09C102.93 92.09 103 81.56 96.0801 81.56ZM94.5801 109.42L87.84 109.79L89.53 118.87L91.96 119.34L94.5801 109.42ZM85.74 132.53L87.74 133.53L90.2601 124.92L83.71 124.61L85.74 132.53ZM83.3301 110L76.53 110.37L78.34 118.84L81.0801 118.99L83.3301 110ZM75.3301 132.86L77.74 133.08L79.52 124.39L73.18 124.1L75.3301 132.86ZM67.5101 119L70.2901 118.48L72.1601 110.66L66.1601 110.98L67.5101 119ZM60.3 79.17C49.3 79.17 48.7701 95.92 60.4901 95.92C71.2001 95.92 71.2701 79.17 60.3 79.17ZM55.53 122.55C55.53 132.16 49.1201 137.8 45.3101 141.43L44.85 104.69C53.33 105.35 55.53 112.62 55.53 122.55Z"
      fill="#ffffff" />
  </svg>
  <span>Finanz Uhu</span>
  <div class="spacer"></div>
  <a rel="noopener" class="text-white me-3 fs-3">
    +
  </a>
</div>

<div class="container" role="main" style="margin-top: 100px;">
  <div>

    <div class="border-bottom mb-3 text-center">
      <h2>Wähle eine Datei</h2>
      <app-file-selector></app-file-selector>
    </div>

    <div *ngIf="dataState.hasLoadedData">


      <h2>Zeitraum wählen</h2>

      <div>
        <mat-form-field>
          <mat-date-range-input [rangePicker]="picker">
            <input matStartDate placeholder="Start date" [(ngModel)]="dataState.currentFilter.from" (dateChange)="refreshData()">
            <input matEndDate placeholder="End date" [(ngModel)]="dataState.currentFilter.to" (dateChange)="refreshData()">
          </mat-date-range-input>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>


      </div>
      <div class="border-bottom mb-3 text-center">
        <button class="btn btn-primary btn-sm me-2" (click)="dataState.resetMonth()">
          All
        </button>
        <button class="btn btn-sm me-2" [ngClass]="{'btn-outline-primary': !isSelectedMonth(date), 'btn-primary': isSelectedMonth(date)}"
          (click)="dataState.filterByDateFilter(date)" *ngFor="let date of dataState.months">
          {{date.name}}
        </button>
      </div>

<app-category-select></app-category-select>

      <app-history-chart [dates]="dataState.monthStarts" [transactions]="dataState.selectedTransactions"></app-history-chart>

      <div class="border-bottom mb-3">
        <h2>Kategorien</h2>
        <!-- Chart -->
        <app-category-chart [data]="dataState.categories"></app-category-chart>
        <!-- Elements -->

        <app-category-overview-component *ngIf="!dataState.currentFilter.category" [amountMonths]="dataState.selectedMonthAmountInDataRangeFilter"
          [categorySummaries]="dataState.categories"></app-category-overview-component>
        <app-category-component *ngIf="dataState.currentFilter.category" [categorySummary]="dataState.currentFilter.category"></app-category-component>
      </div>

    </div>
    <!-- 
    <div>
      <h2>Transactions</h2>
      <app-transaction-component *ngFor="let transaction of dataState.selectedTransactions" [transaction]="transaction">
      </app-transaction-component>
    </div> -->

  </div>
  <!-- Footer -->
  <footer>
    <div class="opacity-50">© 2023 Toni Hoffmann, Owl Icon made by chikin icons: <a href="https://www.figma.com/@chikin_icons">chikin_icons</a></div>
  </footer>

  <svg id="clouds" xmlns="http://www.w3.org/2000/svg" width="2611.084" height="485.677" viewBox="0 0 2611.084 485.677">
    <title>Gray Clouds Background</title>
    <path id="Path_39" data-name="Path 39"
      d="M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z"
      transform="translate(142.69 -634.312)" fill="#eee" />
  </svg>

</div>

<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->