<div>
    <div class="row fs-4" (click)="expanded = !expanded" role="button">
        <div class="col">
            <a class="text-primary p-0 fs-4">
                <span>{{categorySummary.category}}</span>
            </a>

        </div>
        <div class="col text-end" *ngIf="amountMonths > 1">
            <span class="opacity-25 fs-5">{{calculatedTotal | currency:'EUR'}}∑</span>
             <span class="badge" [ngClass]="{'text-bg-success': calculatedTotal > 0, 'text-bg-warning': calculatedTotal < 0}">⌀ {{(calculatedTotal / amountMonths) | currency:'EUR'}}</span>
        </div>
        <div class="col text-end" *ngIf="amountMonths <= 1">
            <span class="badge" [ngClass]="{'text-bg-success': calculatedTotal > 0, 'text-bg-warning': calculatedTotal < 0}">{{calculatedTotal | currency:'EUR'}}</span>
        </div>
        
    </div>
    <div *ngIf="categorySummary.subCategories?.length && expanded" class="ms-2">
        <div *ngFor="let subCategory of categorySummary.subCategories | orderBy: 'total';">
            <app-category-component [categorySummary]="subCategory" [amountMonths]="amountMonths" *ngIf="subCategory.total != 0"></app-category-component>
        </div>
    </div>
    <div *ngIf="!categorySummary.subCategories?.length && expanded">
        <ng-container *ngFor="let transaction of activeTransactions | orderBy: 'amount'">
        <app-transaction-component  [transaction]="transaction"></app-transaction-component>
        </ng-container>
    </div>
</div>